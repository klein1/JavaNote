## Java程序运行过程

1. Java源文件被编译器编译成字节码文件。
2. JVM将字节码文件编译成相应操作系统的机器码。
3. 机器码调用相应操作系统的本地方法库执行相应的方法。

**在一个Java进程开始运行后，虚拟机就开始实例化，有多个进程启动就会实例化多个虚拟机实例。进程退出或者关闭，则虚拟机实例消亡，在多个虚拟机实例之间不能共享数据。**



![image.png](https://upload-images.jianshu.io/upload_images/9229344-45edeb3188586457.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



## JVM组成

#### 类加载器子系统

将编译好的 .class 文件加载到JVM中。

#### 运行时数据区

存储在JVM运行过程中产生的数据，包括程序计数器、方法区、本地方法栈、虚拟机栈和虚拟机堆。

#### 执行引擎

包括即时编译器、垃圾回收器。

#### 本地接口库

调用操作系统的本地方法库完成具体的指令操作。