## 垃圾收集算法

### 标记清除算法

该算法分为“标记”和“清除”阶段：标记所有需要回收的对象，清除对象并释放内存空间。

内存碎片



### 复制算法

为了解决内存碎片问题，将内存分为大小相同的两块，每次使用其中的一块。当这一块的内存使用完后，就将还存活的对象复制到另一块去，然后再把使用的空间一次清理掉。这样就使每次的内存回收都是对内存区间的一半进行回收。

内存空间被压缩为一半，内存浪费；存在大量长时间存活的大对象，来回复制影响运行效率（适用于朝生夕死对象）。



### 标记整理算法

标记过程与标记清除算法相同，标记完成后让所有存活的对象移到内存另一端，然后清除该端的对象并释放内存。



### 分代收集算法

根据对象存活周期的不同将内存分为几块，根据各年代的特点选择合适的GC算法。

新生代，对象数量多、存活周期短，复制算法；

老年代，大对象、生命周期长，标记清除或标记整理。



### 分区收集算法

将整个堆空间划分为连续的大小不同的小区域，对每个小区域单独进行内存使用和垃圾回收，好处是可以根据每个小区域的内存大小灵活使用和释放内存。

可以根据系统可接受的停顿时间，每次快速回收若干个小区域的内存，以缩短垃圾回收时系统停顿的时间，最后以多次并行累加的方法逐步完成整个内存区域的垃圾回收。如果垃圾回收机制一次回收整个堆内存，则需要更长的系统停顿时间，影响系统运行的稳定性。